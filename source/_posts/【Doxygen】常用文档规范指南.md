---
title: 【Doxygen】常用文档规范指南
date: 2025-05-22 08:21:33
updated: 2025-05-22 08:21:33
tags:
  - 文档生成
  - 技术文档指南
categories:
  - Doxygen
keywords: 
description: 
top_img: 
comments: true
cover: 
toc: true
toc_number: true
toc_style_simple: false
katex: false
highlight_shrink: false
aside: true
noticeOutdate: false
abbrlink: 2a8b085e
---


## 前言

​       Doxygen 是一个文档生成工具，它可以从一套注释过的源代码中提取文档。Doxygen 支持多种编程语言，包括 C, C++, C#, Python, Java 等。使用 Doxygen 可以生成各种格式的文档，如 HTML, LaTeX, PDF 等。为了有效地使用 Doxygen 生成高质量的代码文档，遵循一定的代码规范是非常重要的。下面是一些基于 Doxygen 的代码规范建议：

## 注释风格

- **文件注释**：在每个文件的开头，使用 `/*!` 或 `/**` 开始一个文档块，描述文件的总体信息，包括作者、日期、文件描述等。

  ```cpp
  /*!
   * @file   example.cpp
   * @brief  这里是对本文件的简要描述
   * @author Your Name
   * @date   YYYY-MM-DD
   */
  ```

- **类和结构体注释**：在每个类或结构体声明之前，使用 `/*!` 或 `/**` 开始一个文档块，描述该类或结构体的用途、属性等。

  ```cpp
  /**
   * @class   ExampleClass
   * @brief   这里是类的简要描述
   *
   * 更详细的描述可以放在这里，包括类的用途、注意事项等。
   *
   * @author Your Name
   * @date   YYYY-MM-DD
   */
  class ExampleClass {
      // ...
  };
  ```

- **函数注释**：在每个函数声明或定义之前，使用 `/*!` 或 `/**` 开始一个文档块，描述函数的功能、参数、返回值等。

  ```cpp
  /**
   * @brief   函数的简要描述
   * @param   param1 描述参数1
   * @param   param2 描述参数2
   * @return  描述返回值
   */
  int exampleFunction(int param1, int param2) {
      // ...
  }
  ```

- **变量注释**：对于重要的成员变量或全局变量，使用 `//!` 或 `///<` 在变量声明行进行简短描述。

  ```cpp
  int exampleVar; ///< 这里是变量的简要描述
  
  /// 这里是变量的简要描述
  int exampleVar1;
  
  //! 这里是变量的简要描述
  int exampleVar1;
  ```

## 特殊标记

​       在 Doxygen 中，特殊标记（Special Commands）是用于控制文档生成过程中的格式、结构和内容的一组指令。这些标记能够帮助开发者创建出既丰富又具有良好格式的文档。下面详细介绍一些常用的特殊标记及其用途。

### 文本格式化标记

- **加粗**：使用 `@b` 标记可以加粗文本。

  ```cpp
  /**
   * 这是一个使用了 @b 加粗标记的文本。
   */
  ```

- **斜体**：使用 `@em` 标记来使文本变为斜体。

  ```cpp
  /**
   * 这是一个使用了 @em 斜体标记的文本。
   */
  ```

- **下划线**：使用 `@underline` 标记给文本添加下划线。

  ```cpp
  /**
   * 这是一个使用了 @underline 下划线标记的文本。
   */
  ```

### 链接和引用

- **创建链接**：`@link ... @endlink` 用于创建指向文档内部或外部资源的链接。

  ```cpp
  /**
   * 更多信息请参见 @link http://www.example.com 这里 @endlink。
   */
  ```

- **自动链接**：Doxygen 会自动将文档中的词汇与相关的类、函数、变量等关联起来，创建链接。

- **引用**：`@ref` 用于创建对文档中其他部分的引用。

  ```cpp
  /**
   * 请参考 @ref SomeFunction "Some Function" 获取更多信息。
   */
  ```

### 列表和项目符号

- **编号列表**：使用 `-#` 来创建编号列表。

  ```cpp
  /**
   * 操作步骤：
   * -# 第一步
   * -# 第二步
   * -# 第三步
   */
  ```

- **项目符号列表**：使用 `-` 或 `*` 创建项目符号列表。

  ```cpp
  /**
   * 成分：
   * - 成分一
   *		- 细节一
   *		- 细节二
   * - 成分二
   */
  ```

### 代码

- **代码段**：`@code ... @endcode` 用于在文档中插入代码段，保持原始格式。

  ```cpp
  /**
   * @par	示例代码：
   * @code{.cpp}
   * int main() {
   *     return 0;
   * }
   * @endcode
   */
  ```
- **TODO 和 FIXME**：在代码中使用 `@todo` 和 `@fixme` 标记未完成的任务或需要修复的问题。

  ```cpp
  /**
   * @todo 实现这个函数
   */
  void unfinishedFunction() {
      // ...
  }
  ```

### 图片和图表

- **插入图片**：`@image` 用于插入图片。

  ```cpp
  /**
   * 查看下图了解架构：
   * @image html architecture.png "系统架构图"
   */
  ```

## 分组和模块化

​       在 Doxygen 中，分组和模块化是指将相关的代码项（如函数、变量、类等）组织到一起，以便在生成的文档中以逻辑分组的形式展示。这种方式有助于提高文档的可读性和维护性，使用户能够更容易地找到和理解相关的代码部分。下面详细介绍如何在 Doxygen 中实现分组和模块化。

### 使用 `@defgroup` 和 `@ingroup` 标记进行分组

#### 定义组

- **`@defgroup`** 标记用于定义一个新的组。每个组都有一个唯一的标识符（组名）和一个标题。组内可以包含类、函数、变量、文件等。

```cpp
/**
 * @defgroup GroupName 组的标题
 * 这里是对组的详细描述。
 */
```

#### 将项目添加到组

- **`@ingroup`** 标记用于将特定的代码项添加到已定义的组中。这意味着你可以在类、函数、变量等的文档注释中使用 `@ingroup` 来指定它们属于哪个组。

```cpp
/**
 * @ingroup GroupName
 * 这里是某个函数的文档。
 */
void someFunction() {
    // 函数实现
}
```

### 嵌套分组

​       Doxygen 允许组嵌套，即一个组内可以包含其他组。这通过在子组的定义中使用 `@ingroup` 标记来实现，指定父组的名称。

```cpp
/**
 * @defgroup SubGroupName 子组的标题
 * @ingroup GroupName
 * 这里是对子组的详细描述。
 */
```

### 模块化的好处

- **逻辑上的组织**：通过将相关的代码项组织到一起，可以逻辑上地划分项目的不同部分，使得文档结构更清晰。
- **易于维护**：分组使得在文档中添加、移除或更新相关内容变得更加容易。
- **提高可读性**：用户可以通过浏览相关的分组来快速获取他们感兴趣的信息，而不是在整个文档中寻找。

## 其他常用标记

​       标记构成了 Doxygen 的核心功能，合理使用这些标记可以显著提升代码文档的质量和可读性。以下列举了一些常用标记，需要注意的是，Doxygen 还支持许多其他标记和高级功能，详细信息请参考官方文档。

|            标记             |                        功能描述                         |
| :-------------------------: | :-----------------------------------------------------: |
|          `@param`           |                  描述函数的输入参数。                   |
|          `@return`          |                   描述函数的返回值。                    |
|  `@throws` 或 `@exception`  |                描述函数可能抛出的异常。                 |
|           `@see`            |     提供相关函数、变量、文档页面或外部链接的引用。      |
|        `@deprecated`        |      指明一个功能已经被废弃，并可能在未来被移除。       |
|         `@warning`          |       强调代码中的潜在问题或需要特别注意的事项。        |
|           `@note`           |     提供额外的信息或解释，帮助理解代码的某些细节。      |
|           `@todo`           |                指出代码中待完成的任务。                 |
|          `@fixme`           |             标记需要修复或改进的代码部分。              |
|          `@brief`           |               提供一个简短的描述或概要。                |
|         `@details`          |             提供比 `@brief` 更详细的描述。              |
|          `@author`          |                    指明代码的作者。                     |
|           `@date`           |             指明代码编写或最后修改的日期。              |
|         `@version`          |                   指明代码的版本号。                    |
|          `@since`           |             指明从哪个版本开始引入的功能。              |
|           `@pre`            |           描述函数调用前需要满足的前置条件。            |
|           `@post`           |              描述函数调用后的效果或状态。               |
|        `@invariant`         |                描述类或接口的不变条件。                 |
|         `@defgroup`         |      将多个相关的类、函数、变量等分组为一个模块。       |
|         `@ingroup`          | 将当前项加入到一个已定义的组（通过 `@defgroup` 定义）。 |
|           `@file`           |               指明当前注释对应的文件名。                |
| `@section` 和 `@subsection` |                在文档中创建分节和子节。                 |
|    `@code` 和 `@endcode`    |    用于包裹一段代码，使其在文档中保持原样格式显示。     |
|           `@var`            |                   用于描述一个变量。                    |
|         `@typedef`          |                   用于描述类型定义。                    |
|           `@enum`           |                   用于描述枚举类型。                    |
|          `@class`           |                      用于描述类。                       |
|        `@interface`         |     用于描述接口（主要用于 Java 或 Objective-C）。      |
|            `@fn`            |     用于描述函数（特别是当无法从代码自动提取时）。      |
| `@ref`               | 用于创建对其他文档部分的引用。这可以是函数名、变量名、标题等，用来在生成的文档中创建一个链接，便于跳转。 |
| `@cond ... @endcond` | 这对标记用于条件性地包含文档片段。如果定义了相应的条件，则包含在 `@cond` 和 `@endcond` 之间的内容将出现在最终文档中；否则，这部分内容会被忽略。 |
| `@tparam`            | 专门用于模板参数的描述。在模板类或函数中，使用 `@tparam` 来说明每个模板参数的作用和要求。 |
| `@attention`         | 用于强调需要特别注意的信息。这可以用来提醒文档读者关注某些可能影响代码使用或理解的重要事项。 |
| `@par`               | 用于在文档中创建一个段落。与 `@param` 不同，`@par` 后面通常会跟一个标题，然后是段落内容，用来组织和强调文档中的某部分信息。 |
| `@retval`            | 描述函数返回值的不同意义。对于那些可以返回多个不同值的函数，使用 `@retval` 来分别说明每个可能的返回值代表的含义。 |
| `@copyright`         | 用于指明文件或代码的版权信息。这对于确保代码的合法使用和分发非常重要。 |
| `@bug`               | 用于记录代码中已知的错误或问题。这有助于开发者跟踪和管理待解决的问题。 |
| `@anchor`            | 允许你在文档中创建一个锚点，然后可以使用 `@ref` 标记引用这个锚点。这对于创建复杂文档结构，或者需要在文档中多次引用同一信息时非常有用。 |
| `@cite`     | 用于引用文献。在文档中提到某项研究或引用某篇文章时，可以使用 `@cite` 标记，后跟文献的标识符，以生成对该文献的引用。这要求在 Doxygen 配置文件中或其他地方有相应的文献定义。 |
| `@mainpage` | 用于定义文档的主页内容。这个标记后面通常跟着一段文本或说明，作为整个项目文档的入口点或介绍页面。在生成的文档中，这部分内容会被展示在主页上。 |
| `@dir`      | 用于描述一个目录的内容或目的。这在文档化一个项目的目录结构时非常有用，可以提供关于该目录的额外信息或说明。 |
| `@returns`  | 与 `@return` 功能相同，用于描述函数的返回值。这是 `@return` 的另一种表述方式，两者在 Doxygen 中是等价的，都用来说明函数返回值的类型和意义。 |
